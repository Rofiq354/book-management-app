<!-- Quick Stats -->
<section class="mb-12">
  <div class="flex justify-between items-center mb-5">
    <h2 class="text-xl font-semibold text-gray-700">Overview</h2>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-3 gap-6">
    <!-- Total Books -->
    <div
      class="bg-white select-none rounded-xl shadow group hover:shadow-lg transition p-6 border border-transparent hover:border-indigo-200 relative overflow-hidden"
    >
      <div
        class="absolute top-0 right-0 w-20 h-20 bg-indigo-100 rounded-bl-full opacity-40 group-hover:opacity-60 transition"
      ></div>

      <div class="flex items-center gap-3">
        <div
          class="bg-indigo-600 text-white w-10 h-10 rounded-lg flex items-center justify-center shadow"
        >
          üìö
        </div>
        <div class="z-10">
          <h3 class="text-sm text-gray-500">Total Books</h3>
          <p class="text-3xl font-bold text-gray-800 mt-1">
            <%= books.length %>
          </p>
        </div>
      </div>
    </div>

    <!-- Total Authors -->
    <div
      class="bg-white select-none rounded-xl shadow group hover:shadow-lg transition p-6 border border-transparent hover:border-green-200 relative overflow-hidden"
    >
      <div
        class="absolute top-0 right-0 w-20 h-20 bg-green-100 rounded-bl-full opacity-40 group-hover:opacity-60 transition"
      ></div>

      <div class="flex items-center gap-3">
        <div
          class="bg-green-600 text-white w-10 h-10 rounded-lg flex items-center justify-center shadow"
        >
          ‚úçÔ∏è
        </div>
        <div class="z-10">
          <h3 class="text-sm text-gray-500">Total Authors</h3>
          <p class="text-3xl font-bold text-gray-800 mt-1">
            <%= authors.length %>
          </p>
        </div>
      </div>
    </div>

    <!-- Most Stocked -->
    <div
      class="bg-white select-none rounded-xl shadow group hover:shadow-lg transition p-6 border border-transparent hover:border-yellow-200 relative overflow-hidden"
    >
      <div
        class="absolute top-0 right-0 w-20 h-20 bg-yellow-100 rounded-bl-full opacity-40 group-hover:opacity-60 transition"
      ></div>

      <div class="flex items-center gap-3">
        <div
          class="bg-yellow-500 text-white w-10 h-10 rounded-lg flex items-center justify-center shadow"
        >
          ‚≠ê
        </div>
        <div class="z-10">
          <h3 class="text-sm text-gray-500">Most Stocked Book</h3>
          <p class="font-semibold text-gray-800 mt-1">
            <%= topBook ? topBook.title : "‚Äî" %>
          </p>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- Books Preview -->
<section class="mb-12">
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-xl font-semibold text-gray-700">Latest Books</h2>
    <a href="/books" class="text-indigo-600 hover:underline text-sm">
      View All ‚Üí
    </a>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6">
    <% books.reverse().slice(0,4).forEach(b => { %>
    <div
      class="bg-white p-6 rounded-xl shadow hover:shadow-lg border border-transparent hover:border-indigo-200 transition"
    >
      <h3 class="font-semibold text-lg mb-3 text-gray-800 line-clamp-1">
        <%= b.title %>
      </h3>

      <div class="space-y-1 text-sm text-gray-600 pb-3 border-b">
        <p>
          <span class="font-medium text-gray-700">Author:</span>
          <% authors.forEach(a => { %> <% if (b.authorId == a.id) { %> <%=
          a.name %> <% } %> <% }) %>
        </p>
        <p>
          <span class="font-medium text-gray-700">Stock:</span>
          <span
            class="inline-block px-2 py-0.5 text-xs rounded bg-indigo-100 text-indigo-700 font-medium"
          >
            <%= b.stock %>
          </span>
        </p>
      </div>

      <div class="pt-4">
        <a
          href="/books/detail-<%= b.id %>"
          class="text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center gap-1"
        >
          View Detail ‚Üí
        </a>
      </div>
    </div>
    <% }) %>
  </div>
</section>

<!-- Top 5 Authors -->
<section>
  <div class="flex justify-between items-center mb-6">
    <h2 class="text-xl font-semibold text-gray-700">Top Authors</h2>
    <a href="/authors" class="text-indigo-600 hover:underline text-sm">
      View All ‚Üí
    </a>
  </div>

  <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-6">
    <% authors.reverse().slice(0,5).forEach((a, i) => { %>
    <a href="/books/detail-id">
      <div
        class="relative bg-white p-6 rounded-xl shadow hover:shadow-lg border border-transparent hover:border-indigo-200 transition"
      >
        <!-- Badge -->
        <div
          class="absolute top-3 right-3 bg-indigo-100 text-indigo-600 text-xs font-semibold px-2 py-1 rounded"
        >
          Top <%= i + 1 %>
        </div>

        <div class="space-y-1 text-sm text-gray-600 pb-3 border-b">
          <div class="text-center">
            <!-- Image Circle -->
            <div
              class="w-24 h-24 mx-auto mb-3 flex items-center justify-center select-none rounded-full <%= a.id % 2 === 0 ? 'bg-blue-200' : 'bg-orange-200' %> text-gray-700 text-3xl font-semibold shadow"
            >
              <%= a.name.charAt(0).toUpperCase() %>
            </div>

            <!-- Name -->
            <p class="font-medium text-gray-700"><%= a.name %></p>
            <p class="text-xs text-gray-500"><%= a.bookCount.length %> Books</p>
          </div>

          <!-- Stats -->
          <!-- <div class="flex justify-center gap-3 mt-3 text-xs text-gray-500">
						<span>‚≠ê <%= a.rating || '4.8' %></span>
						<span>üî• <%= a.popularity || '1.2k' %></span>
					</div> -->
        </div>

        <!-- <div class="pt-4">
					<a
						href="/books/detail-id"
						class="text-indigo-600 hover:text-indigo-800 text-sm font-medium flex items-center gap-1"
					>
						View Detail ‚Üí
					</a>
				</div> -->
      </div>
    </a>
    <% }) %>
  </div>
</section>
